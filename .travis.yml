
language: objective-c
osx_image: xcode11.3

env:
  global:
    - LC_CTYPE=en_US.UTF-8
    - LANG=en_US.UTF-8


before_install:
    - env
    - locale
    - gem install xcpretty --no-document --quiet
    - xcpretty --version
    - xcodebuild -version
    - xcodebuild -showsdks

script:
    - set -o pipefail

    - echo Build
    - xcodebuild clean build -workspace ModuleExamples.xcworkspace -scheme 'ModuleExamples' -sdk iphonesimulator PLATFORM_NAME=iphonesimulator -configuration Debug | xcpretty -c

    - echo Build the Demo apps
    - xcodebuild clean build -workspace ModuleExamples.xcworkspace -scheme 'ModuleExamples' -configuration Debug -destination 'name=iPhone 8' | xcpretty -c

    - echo Run the tests
    - xcodebuild test -workspace ModuleExamples.xcworkspace -scheme 'ModuleExamples' -configuration Debug -destination 'name=iPhone 8' | xcpretty -c

after_success:
